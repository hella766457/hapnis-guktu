<!--
Project: 해피니스 정신병동 - 카드형 턴제 RPG (Single HTML File)
Host: GitHub Pages

Mobile Single-File Setup Guide:
1. GitHub 모바일 웹에서 새 저장소 생성 (예: card-rpg-game)
2. 'Add file' > 'Create new file' 클릭, 파일 이름에 index.html 입력
3. 아래 전체 코드 붙여넣기 후 Commit
4. Settings > Pages에서 main branch, root 설정 후 Save
5. 배포된 URL 열어 모바일에서 플레이
--><!DOCTYPE html><html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>해피니스 정신병동</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #f4f4f4; margin:0; padding:0; }
    #main-screen, #game-container, #char-menu { max-width: 600px; margin: 40px auto; }
    #main-screen h1 { font-size: 2rem; margin-bottom: 20px; }
    button { padding: 8px 16px; font-size: 1rem; cursor: pointer; margin: 5px; }
    .hand { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
    .card { width: 100px; height: 140px; border: 1px solid #333; border-radius: 8px;
            background: #fff; display: flex; flex-direction: column;
            justify-content: space-between; padding: 5px; cursor: pointer; position: relative; }
    .card h3 { margin: 0; font-size: 0.9rem; font-weight: bold; }
    .card .photo { width: 100%; height: 60px; background: #eee; margin: 5px 0; }
    .card .level { position: absolute; bottom: 5px; left: 8px; color: green; font-weight: bold; }
    .card .stars { position: absolute; bottom: 5px; right: 8px; }
    .star { color: gold; font-size: 0.8rem; }
    #battle-log { height: 100px; overflow-y: auto; background: #fff;
                  border: 1px solid #ccc; padding: 10px; margin-bottom: 20px; text-align: left; }
    #char-menu { display: none; }
    #char-popup { display: none; position: fixed; top:0; left:0; width:100%; height:100%;
                 background: rgba(0,0,0,0.5); align-items: center; justify-content: center; }
    #char-popup .popup-content { background: #fff; padding: 20px; border-radius: 8px; max-width: 80%; }
  </style>
</head>
<body>
  <!-- 메인 화면 -->
  <div id="main-screen">
    <h1>해피니스 정신병동</h1>
    <button id="start-game">게임 시작</button>
  </div>  <!-- 게임 화면 -->  <div id="game-container" style="display:none;">
    <button id="char-menu-btn">캐릭터</button>
    <div id="enemy-area">
      <h2>적</h2>
      <div id="enemy-hand" class="hand"></div>
    </div>
    <div id="player-area">
      <h2>플레이어</h2>
      <div id="player-hand" class="hand"></div>
    </div>
    <div id="battle-log"></div>
    <button id="next-turn">다음 턴</button>
  </div>  <!-- 캐릭터 메뉴 -->  <div id="char-menu">
    <h2>보유 캐릭터</h2>
    <div class="hand" id="char-hand"></div>
    <button id="close-char-menu">닫기</button>
  </div>  <!-- 팝업 -->  <div id="char-popup">
    <div class="popup-content">
      <h3>캐릭터 정보</h3>
      <p>정보가 없습니다.</p>
      <button id="close-popup">닫기</button>
    </div>
  </div>  <script>
    // 캐릭터 데이터 (기본 캐릭터)
    const characters = [ { name:'김뭉싯', level:1, stars:1 } ];

    // 플레이어/적 정의 (기존)
    class Card { constructor(name, power) { this.name=name; this.power=power; } }
    class Player { constructor(name){ this.name=name; this.hand=[]; this.health=20;} draw(cards){this.hand.push(...cards);} }
    const player=new Player('플레이어'), enemy=newPlayer= new Player('적');

    // 게임 초기화
    function initGame(){
      const deck=[ new Card('공격 3',3), new Card('공격 5',5), new Card('공격 7',7), new Card('공격 2',2), new Card('공격 4',4) ];
      player.draw(deck.splice(0,3)); enemy.draw(deck.splice(0,3));
      renderHands(); log(`📢 게임 시작! HP: ${player.health} vs ${enemy.health}`);
    }
    function renderHands(){ /* ...기존 renderHands 코드 그대로... */ }
    function playCard(i){ /* ... */ }
    function enemyTurn(){ /* ... */ }
    function log(t){ /* ... */ }

    // 캐릭터 메뉴 렌더링
    function showCharMenu(){
      const handDiv=document.getElementById('char-hand');
      handDiv.innerHTML='';
      characters.forEach((c,idx)=>{
        const card=document.createElement('div');card.className='card';
        card.innerHTML=`<h3>${c.name}</h3><div class='photo'></div>`+
                        `<span class='level'>Lv.${c.level}</span>`+
                        `<div class='stars'>${'★'.repeat(c.stars)}</div>`;
        card.addEventListener('click',()=>openPopup(c)); handDiv.append(card);
      });
      document.getElementById('char-menu').style.display='block';
    }
    function openPopup(c){
      document.getElementById('char-popup').style.display='flex';
      // 정보 영역 업데이트 가능
    }
    function closePopup(){ document.getElementById('char-popup').style.display='none'; }

    // 이벤트 바인딩
    document.getElementById('start-game').onclick=()=>{
      document.getElementById('main-screen').style.display='none';
      document.getElementById('game-container').style.display='block';
      initGame();
    };
    document.getElementById('char-menu-btn').onclick=showCharMenu;
    document.getElementById('close-char-menu').onclick=()=>{document.getElementById('char-menu').style.display='none';};
    document.getElementById('close-popup').onclick=closePopup;
    document.getElementById('next-turn').onclick=()=>{ /* ... */ };
  </script></body>
</html>
